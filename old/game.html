<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>myGame</title>
        <style media="screen">
            canvas{
              border: 1px black solid;
            }
        </style>
    </head>
    <body>
      <canvas id="id-canvas" width="400" height="300"></canvas>

<script>
var log=console.log.bind(console)
var canvas=document.querySelector("#id-canvas")
var context=canvas.getContext('2d')

var x=100
var y=200

var left=false
var right=false

var img=new Image()
img.src='p1.jpg'
log(img)
img.onload=function(){
  context.drawImage(img,x,y)
}




//events

window.addEventListener('keydown',function(event){
  var k=event.key
  if(k=='a'){
    left=true
  }else if(k=='d'){
    right=true
  }
})

window.addEventListener('keyup',function(event){
  var k=event.key
  if(k=='a'){
    left=false
  }else if(k=='d'){
    right=false
  }
})

setInterval(function(){
log('event')

  //update pos
  if(left)
    x-=10
  else if(right)
    x+=10

  //draw
  context.clearRect(0,0,canvas.width,canvas.height)
  context.drawImage(img,x,y)
},1000/30)


</script>

    </body>
</html>
